{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?0090"],"names":["_createElementVNode","class","for","value","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","_toDisplayString","fio","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_createVNode","_component_app_status","type","status","_hoisted_7","id","$event","_createElementBlock","onClick","_ctx","params","components","AppPage","AppLoader","AppStatus","setup","loading","ref","store","useStore","route","useRoute","router","useRouter","request","onMounted","dispatch","hasChanges","computed","remove","push","update","data","currency","__exports__","render"],"mappings":"2IAGOA,eAA2B,cAAnB,cAAU,G,EAClBA,eAAsB,cAAd,SAAK,G,EACbA,eAAuB,cAAf,UAAM,G,EACdA,eAAuB,cAAf,UAAM,G,iBAAS,M,GAErBC,MAAM,gB,EACTD,eAAkC,SAA3BE,IAAI,UAAS,UAAM,G,EAExBF,eAAsC,UAA9BG,MAAM,QAAO,YAAQ,G,EAC7BH,eAA4C,UAApCG,MAAM,aAAY,aAAS,G,EACnCH,eAAsC,UAA9BG,MAAM,UAAS,UAAM,G,EAC7BH,eAA2C,UAAnCG,MAAM,WAAU,cAAU,G,GAHlCC,EACAC,EACAC,EACAC,G,SAOKN,MAAM,0B,8HApBCO,4BAAlBC,eAA6BC,EAAA,CAAAC,SACKH,4BAAlCC,eAkBWG,EAAA,C,MAlBAC,MAAM,EAA0BC,MAAM,WAAjD,C,wBACE,iBAAqD,CAArDd,eAAqD,UAAlDe,EAAkD,eAAvB,KAAEC,eAAGR,UAAQS,KAAG,KAC9CjB,eAAkD,UAA/CkB,EAA+C,eAAzB,KAAEF,eAAGR,UAAQW,OAAK,KAC3CnB,eAA8D,UAA3DoB,EAA2D,eAApC,KAAEJ,eAAGR,WAASA,UAAQa,SAAM,KACtDrB,eAAqE,UAAlEsB,EAAkE,EAAzCC,eAAqCC,EAAA,CAAxBC,KAAMjB,UAAQkB,QAA3B,mBAE5B1B,eAQM,MARN,EAQM,CAPJ2B,EAOI,eANJ3B,eAKS,UALD4B,GAAG,S,qDAAkBpB,SAAMqB,KAAnC,gBAA6BrB,cAQjBA,+BAAdsB,eAAqE,U,MAA3C7B,MAAM,MAAO8B,QAAK,8BAAEvB,yCAAQ,WAAtD,sBACAR,eAA0D,UAAlDC,MAAM,aAAc8B,QAAK,8BAAEvB,yCAAQ,c,QAjB7C,iBAmBAsB,eAEK,KAFL,EAA0C,oBACxBd,eAAGgB,SAAOC,OAAOL,IAAK,eACxC,I,gHAaa,G,UAAA,CACbM,WAAY,CAAEC,eAASC,iBAAWC,kBAClCC,MAFa,WAGX,IAAMC,EAAUC,gBAAI,GACdC,EAAQC,iBACRC,EAAQC,iBACRC,EAASC,iBACTpB,EAASc,iBACTO,EAAUP,eAAI,MAEpBQ,eAAS,wCAAC,2GACRT,EAAQpC,OAAQ,EADR,SAEcsC,EAAMQ,SAAS,mBAAoBN,EAAMV,OAAOL,IAF9D,OAERmB,EAAQ5C,MAFA,OAGRuB,EAAOvB,MAAP,UAAe4C,EAAQ5C,aAAvB,aAAe,EAAeuB,OAC9Ba,EAAQpC,OAAQ,EAJR,4CAOV,IAAM+C,EAAaC,gBAAS,kBAAMJ,EAAQ5C,MAAMuB,SAAWA,EAAOvB,SAE5DiD,EAAK,yDAAI,8GACPX,EAAMQ,SAAS,qBAAsBN,EAAMV,OAAOL,IAD3C,OAEbiB,EAAOQ,KAAK,KAFC,2CAAJ,qDAKLC,EAAK,yDAAI,2GACPC,EADO,iCACKR,EAAQ5C,OADb,IACoBuB,OAAQA,EAAOvB,MAAOyB,GAAIe,EAAMV,OAAOL,KAD3D,SAEPa,EAAMQ,SAAS,qBAAsBM,GAF9B,OAGbR,EAAQ5C,MAAMuB,OAASA,EAAOvB,MAHjB,2CAAJ,qDAMX,MAAO,CACLoC,UACAQ,UACAS,gBACAF,SACAF,SACA1B,SACAwB,iB,qBCpEN,MAAMO,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4783.eeaa5a6d.js","sourcesContent":["<template>\n  <app-loader v-if=\"loading\" />\n  <app-page :back=\"true\" v-else-if=\"request\" title=\"Request\">\n    <p><strong>Owner name</strong>: {{ request.fio }}</p>\n    <p><strong>Phone</strong>: {{ request.phone }}</p>\n    <p><strong>Amount</strong>: {{ currency(request.amount) }}</p>\n    <p><strong>Status</strong>: <app-status :type=\"request.status\" /></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Status</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"done\">Finished</option>\n        <option value=\"cancelled\">Cancelled</option>\n        <option value=\"active\">Active</option>\n        <option value=\"pending\">In Process</option>\n      </select>\n    </div>\n\n    <button v-if=\"hasChanges\" class=\"btn\" @click=\"update\">Update</button>\n    <button class=\"btn danger\" @click=\"remove\">Remove</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Request with ID {{ $route.params.id }} not found.\n  </h3>\n</template>\n\n<script>\nimport {ref, onMounted, computed} from \"vue\";\nimport {useRoute, useRouter} from 'vue-router'\nimport {useStore} from \"vuex\";\nimport {currency} from \"../utils/currency\";\nimport AppPage from \"../components/ui/AppPage\";\nimport AppLoader from \"../components/ui/AppLoader\";\nimport AppStatus from \"../components/ui/AppStatus\";\nimport router from \"../router\";\n\nexport default {\n  components: { AppPage, AppLoader, AppStatus },\n  setup () {\n    const loading = ref(false)\n    const store = useStore()\n    const route = useRoute()\n    const router = useRouter()\n    const status = ref()\n    const request = ref(null)\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('requests/loadOne', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    const remove = async () => {\n      await store.dispatch('requests/removeOne', route.params.id)\n      router.push('/')\n    }\n\n    const update = async () => {\n      const data = { ...request.value, status: status.value, id: route.params.id }\n      await store.dispatch('requests/updateOne', data)\n      request.value.status = status.value\n    }\n\n    return {\n      loading,\n      request,\n      currency,\n      update,\n      remove,\n      status,\n      hasChanges\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./Request.vue?vue&type=template&id=685a91a4\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/admin/Desktop/01.1 14-practice-start/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}